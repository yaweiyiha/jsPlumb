{"remainingRequest":"/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/node_modules/babel-loader/lib/index.js!/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/src/jsplumb.js","dependencies":[{"path":"/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/src/jsplumb.js","mtime":1608103461000},{"path":"/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/node_modules/cache-loader/dist/cjs.js","mtime":1607501676000},{"path":"/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/node_modules/babel-loader/lib/index.js","mtime":1607501675000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy95YXdlaXlpaGFuL0Rlc2t0b3AvY29kZS95eWIvYWN0aXZpdHkvanNwbHVtYi9qc1BsdW1iL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3lhd2VpeWloYW4vRGVza3RvcC9jb2RlL3l5Yi9hY3Rpdml0eS9qc3BsdW1iL2pzUGx1bWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveWF3ZWl5aWhhbi9EZXNrdG9wL2NvZGUveXliL2FjdGl2aXR5L2pzcGx1bWIvanNQbHVtYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy95YXdlaXlpaGFuL0Rlc2t0b3AvY29kZS95eWIvYWN0aXZpdHkvanNwbHVtYi9qc1BsdW1iL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IGpzUGx1bWIgfSBmcm9tICJqc3BsdW1iIjsKaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICJldmVudGVtaXR0ZXIzIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IENvbnN0IGZyb20gIi4vY29uc3QiOwp2YXIgX19JRF9TVFJfXyA9ICJpZCI7CmltcG9ydCAiLi9pbmRleC5jc3MiOwoKdmFyIGpzcGx1bWIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHsKICBfaW5oZXJpdHMoanNwbHVtYiwgX0V2ZW50RW1pdHRlcik7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoanNwbHVtYik7CgogIGZ1bmN0aW9uIGpzcGx1bWIob3B0KSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpzcGx1bWIpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy5vcHQgPSBvcHQ7CiAgICBfdGhpcy5pbnN0YW5jZSA9IHVuZGVmaW5lZDsKCiAgICBfdGhpcy5faW5pdCgpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhqc3BsdW1iLCBbewogICAga2V5OiAiX2luaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGpzUGx1bWIuYmluZCgicmVhZHkiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmluc3RhbmNlID0ganNQbHVtYi5nZXRJbnN0YW5jZSh7CiAgICAgICAgICAvLyBkZWZhdWx0IGRyYWcgb3B0aW9ucwogICAgICAgICAgRHJhZ09wdGlvbnM6IHsKICAgICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIsCiAgICAgICAgICAgIHpJbmRleDogMjAwMAogICAgICAgICAgfSwKICAgICAgICAgIENvbnRhaW5lcjogImNvbnRhaW5lciIKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLmVtaXQoInJlYWR5Iik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZE5vZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5vZGUobm9kZSwgb3B0KSB7CiAgICAgIC8vcmV0dXJuIGEgdW5pcXVlIGlkCiAgICAgIGlmICghbm9kZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigibm9kZSBzdHIgY2FuIG5vdCBiZSBlbXB0eSIpOwogICAgICB9CgogICAgICB2YXIgY29udGFpbmVyID0gJCgiLmNvbnRhaW5lciIpOwogICAgICB2YXIgZWwgPSBub2RlOwogICAgICB2YXIgaWQgPSAianNwbHVtYl8iLmNvbmNhdCh0aGlzLl9nZW5JRCg4KSk7CiAgICAgICQoZWwpLmF0dHIoX19JRF9TVFJfXywgaWQpOwogICAgICBjb250YWluZXIuYXBwZW5kKGVsKTsgLy9hZGQganNQbHVtYiBhdHRyaWJ1dGUKCiAgICAgIHRoaXMuX2FkZFBvaW50cyhpZCk7IC8vYWRkIGRyYWdnYmxlCgoKICAgICAgaWYgKG9wdC5kcmFnZ2JsZSkgewogICAgICAgIHRoaXMuaW5zdGFuY2UuZHJhZ2dhYmxlKCQoZWwpKTsKICAgICAgfSAvL2FkZCBkcmFnZ2JsZQoKCiAgICAgIGlmIChvcHQucmVzaXphYmxlKSB7Ly8gJChgIyR7aWR9YCkucmVzaXphYmxlKHsKICAgICAgICAvLyAgIHJlc2l6ZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgLy8gICAgIHRoaXMuaW5zdGFuY2UucmVwYWludCh1aS5oZWxwZXIpOwogICAgICAgIC8vICAgfSwKICAgICAgICAvLyB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGlkOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZU5vZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZU5vZGUoaWQpIHsKICAgICAgdGhpcy5pbnN0YW5jZS5yZW1vdmUoaWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbm5lY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3Qoc291cmNlLCB0YXJnZXQsIG9wdCkgewogICAgICB2YXIgY29tbW9uID0gewogICAgICAgIGVuZHBvaW50OiAiRG90IiwKICAgICAgICBhbmNob3I6IFsiTGVmdCIsICJSaWdodCIsICJUb3AiLCAiQm90dG9tIl0KICAgICAgfTsKICAgICAgdGhpcy5pbnN0YW5jZS5jb25uZWN0KHsKICAgICAgICBzb3VyY2U6IHNvdXJjZSwKICAgICAgICB0YXJnZXQ6IHRhcmdldCwKICAgICAgICBkcm9wT3B0aW9uczogewogICAgICAgICAgaG92ZXJDbGFzczogImhvdmVyIiwKICAgICAgICAgIGFjdGl2ZUNsYXNzOiAiYWN0aXZlIgogICAgICAgIH0sCiAgICAgICAgY29ubmVjdG9yOiBbIkZsb3djaGFydCJdLAogICAgICAgIHBhaW50U3R5bGU6IENvbnN0LnBhaW50U3R5bGUsCiAgICAgICAgLy8g57q/5qC35byPCiAgICAgICAgY29ubmVjdG9ySG92ZXJTdHlsZTogQ29uc3QuY29ubmVjdG9ySG92ZXJTdHlsZSwKICAgICAgICBlbmRwb2ludFN0eWxlOiBDb25zdC5lbmRwb2ludFN0eWxlLAogICAgICAgIC8vIOeCueagt+W8jwogICAgICAgIGhvdmVyUGFpbnRTdHlsZTogQ29uc3QuZW5kcG9pbnRIb3ZlclN0eWxlLAogICAgICAgIG92ZXJsYXlzOiBbWyJMYWJlbCIsIHsKICAgICAgICAgIGxvY2F0aW9uOiAwLjUsCiAgICAgICAgICBjc3NDbGFzczogImxhYmVsIiwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9XV0KICAgICAgfSwgY29tbW9uKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkge30KICB9LCB7CiAgICBrZXk6ICJfYWRkUG9pbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkUG9pbnRzKGlkKSB7CiAgICAgIHZhciBjb21tb24gPSB7CiAgICAgICAgaXNTb3VyY2U6IHRydWUsCiAgICAgICAgaXNUYXJnZXQ6IHRydWUsCiAgICAgICAgbWF4Q29ubmVjdGlvbnM6IDUwLAogICAgICAgIGNvbm5lY3RvcjogWyJGbG93Y2hhcnQiXSwKICAgICAgICBjc3NDbGFzczogImVuZFBvaW50IiwKICAgICAgICBwYWludFN0eWxlOiBDb25zdC5lbmRwb2ludFN0eWxlLAogICAgICAgIGhvdmVyUGFpbnRTdHlsZTogQ29uc3QuZW5kcG9pbnRIb3ZlclN0eWxlLAogICAgICAgIGNvbm5lY3RvclN0eWxlOiBDb25zdC5jb25uZWN0b3JQYWludFN0eWxlLAogICAgICAgIGNvbm5lY3RvckhvdmVyU3R5bGU6IENvbnN0LmNvbm5lY3RvckhvdmVyU3R5bGUKICAgICAgfTsKICAgICAgdGhpcy5pbnN0YW5jZS5hZGRFbmRwb2ludChpZCwgY29tbW9uLCB7CiAgICAgICAgYW5jaG9yczogWyJMZWZ0Il0sCiAgICAgICAgdXVpZDogImxlZnRfIi5jb25jYXQoaWQpCiAgICAgIH0pOwogICAgICB0aGlzLmluc3RhbmNlLmFkZEVuZHBvaW50KGlkLCBjb21tb24sIHsKICAgICAgICBhbmNob3JzOiBbIlJpZ2h0Il0sCiAgICAgICAgdXVpZDogInJpZ2h0XyIuY29uY2F0KGlkKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZ2VuSUQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZW5JRChsZW5ndGgpIHsKICAgICAgcmV0dXJuIE51bWJlcihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyKDMsIGxlbmd0aCkgKyBEYXRlLm5vdygpKS50b1N0cmluZygzNik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4ganNwbHVtYjsKfShFdmVudEVtaXR0ZXIpOwoKZXhwb3J0IHsganNwbHVtYiBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/Users/yaweiyihan/Desktop/code/yyb/activity/jsplumb/jsPlumb/src/jsplumb.js"],"names":["jsPlumb","EventEmitter","$","Const","__ID_STR__","jsplumb","opt","instance","undefined","_init","bind","getInstance","DragOptions","cursor","zIndex","Container","emit","node","Error","container","el","id","_genID","attr","append","_addPoints","draggble","draggable","resizable","remove","source","target","common","endpoint","anchor","connect","dropOptions","hoverClass","activeClass","connector","paintStyle","connectorHoverStyle","endpointStyle","hoverPaintStyle","endpointHoverStyle","overlays","location","cssClass","visible","isSource","isTarget","maxConnections","connectorStyle","connectorPaintStyle","addEndpoint","anchors","uuid","length","Number","Math","random","toString","substr","Date","now"],"mappings":"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","sourcesContent":["import { jsPlumb } from \"jsplumb\";\nimport EventEmitter from \"eventemitter3\";\nimport $ from \"jquery\";\nimport Const from \"./const\";\nconst __ID_STR__ = \"id\";\nimport \"./index.css\";\n\nexport default class jsplumb extends EventEmitter {\n  constructor(opt) {\n    super();\n    this.opt = opt;\n    this.instance = undefined;\n    this._init();\n  }\n\n  _init() {\n    jsPlumb.bind(\"ready\", () => {\n      this.instance = jsPlumb.getInstance({\n        // default drag options\n        DragOptions: { cursor: \"pointer\", zIndex: 2000 },\n        Container: \"container\",\n      });\n      this.emit(\"ready\");\n    });\n  }\n  addNode(node, opt) {\n    //return a unique id\n    if (!node) {\n      throw new Error(\"node str can not be empty\");\n    }\n    const container = $(\".container\");\n    const el = node;\n    const id = `jsplumb_${this._genID(8)}`;\n    $(el).attr(__ID_STR__, id);\n    container.append(el);\n\n    //add jsPlumb attribute\n\n    this._addPoints(id);\n    //add draggble\n    if (opt.draggble) {\n      this.instance.draggable($(el));\n    }\n    //add draggble\n    if (opt.resizable) {\n      // $(`#${id}`).resizable({\n      //   resize: function(event, ui) {\n      //     this.instance.repaint(ui.helper);\n      //   },\n      // });\n    }\n\n    return id;\n  }\n  deleteNode(id) {\n    this.instance.remove(id);\n  }\n  connect(source, target, opt) {\n    let common = {\n      endpoint: \"Dot\",\n      anchor: [\"Left\", \"Right\", \"Top\", \"Bottom\"],\n    };\n    this.instance.connect(\n      {\n        source,\n        target,\n        dropOptions: { hoverClass: \"hover\", activeClass: \"active\" },\n        connector: [\"Flowchart\"],\n        paintStyle: Const.paintStyle, // 线样式\n        connectorHoverStyle: Const.connectorHoverStyle,\n        endpointStyle: Const.endpointStyle, // 点样式\n        hoverPaintStyle: Const.endpointHoverStyle,\n        overlays: [\n          [\n            \"Label\",\n            {\n              location: 0.5,\n              cssClass: \"label\",\n              visible: true,\n            },\n          ],\n        ],\n      },\n      common\n    );\n  }\n  getData() {}\n  _addPoints(id) {\n    let common = {\n      isSource: true,\n      isTarget: true,\n      maxConnections: 50,\n      connector: [\"Flowchart\"],\n      cssClass: \"endPoint\",\n      paintStyle: Const.endpointStyle,\n      hoverPaintStyle: Const.endpointHoverStyle,\n      connectorStyle: Const.connectorPaintStyle,\n      connectorHoverStyle: Const.connectorHoverStyle,\n    };\n    this.instance.addEndpoint(id, common, {\n      anchors: [\"Left\"],\n      uuid: `left_${id}`,\n    });\n    this.instance.addEndpoint(id, common, {\n      anchors: [\"Right\"],\n      uuid: `right_${id}`,\n    });\n  }\n\n  _genID(length) {\n    return Number(\n      Math.random()\n        .toString()\n        .substr(3, length) + Date.now()\n    ).toString(36);\n  }\n}\n"]}]}